#summary Installing the test database

= Introduction =

This page describes how to install the test database on your machine.

== Requirements ==
  * Linux host (tested with Ubuntu 10.04)
  * Local installation of MySQL (tested with 5.1.41)
  * Python 2.6 (tested with 2.6.5)
  * MySQL client library for Python (tested with 1.2.2; http://sourceforge.net/projects/mysql-python/)
  * PHP (tested with 5.3.2-1)
  * Web server running locally (tested with Apache/2.2.14)

== Preparing the MySQL Server ==
==== Know the root password for MySQL ====
If this is an existing database server with a known root password, you may skip this step.  If your MySQL server is a new installation, you must first set a root password.  To do that, perform the following steps:
  * Log on to your MySQL server as root.
  * From a console, issue the following commands:
   # `mysql -u root`
   # `mysql> use mysql`
   # `mysql> UPDATE user SET Password=PASSWORD('new-password') WHERE user='root';`
   # `mysql> FLUSH PRIVILEGES;`

==== Configure your MySQL server to allow network access ====
By default, MySQL does not allow remote access.  You must allow remote access by performing the following:
   # Open your `my.cnf` file (`/etc/mysql/my.cnf` or `/etc/my.cnf`).
   # If the line `skip-networking` is present, comment it out.
   # If the line `bind-address = 127.0.0.1` is present, change `127.0.0.1` to your machine's public IP address.
   # Restart the MySQL server: `service mysql restart` or `/etc/init.d/mysql restart`.


== Installation ==
  * Check out the source code.
  * Read through the [http://code.google.com/p/qaautotest/wiki/Troubleshooting troubleshooting] section to ensure your MySQL server is prepared to host the test database.
  * From the autotest directory, run `install.py` as root.
  * Default values are provided.  Type enter to accept the defaults or enter your own custom value.
{{{
$ sudo ./install.py
Enter the MySQL host name [localhost]: 
Enter the port address for the MySQL server [3306]:
Enter the name for the database [autotest]: 
Enter the root user name for the MySQL database [root]: 
Enter the password for the root user: 
Enter the name of your web root [/var/www/html]: /var/www
Create a normal user for the database [tester]: 
Create a password for the normal user: 
Setting up database privileges for the test user "tester".
Installation successful!
Connect to the GUI at http://localhost/autotest
For troubleshooting tips, go to http://code.google.com/p/qaautotest/wiki/Troubleshooting
}}}

== Troubleshooting ==
See the [http://code.google.com/p/qaautotest/wiki/Troubleshooting Troubleshooting] page in the wiki.

== Uninstalling ==
  * Remove the installed files:
   # `rm -Rf <web_root>/autotest`
  * Remove any local database users:
   # `mysql -h <host> -u <user> -p`
   # `use mysql`
   # `select * from user;` 
   # `drop user "<user_name>"@"%";`
   # `drop user "<user_name>"@"localhost";`
  * Remove the test case database:
   # `mysql -h <host> -u <user> -p`
   # `drop database autotest;`